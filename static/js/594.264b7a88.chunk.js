!function(){"use strict";function r(r,n){(null==n||n>r.length)&&(n=r.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=r[o];return t}function n(n,o){if(n){if("string"===typeof n)return r(n,o);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(n,o):void 0}}function o(o){return function(n){if(Array.isArray(n))return r(n)}(o)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(o)||n(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(r,o){var t="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=n(r))||o&&r&&"number"===typeof r.length){t&&(r=t);var e=0,a=function(){};return{s:a,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,f=!0,i=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return f=r.done,r},e:function(r){i=!0,l=r},f:function(){try{f||null==t.return||t.return()}finally{if(i)throw l}}}}function e(r){for(var n=0;n<6;n++)for(var o=13*(n+1)-1,t=12;t>=0;t--){var e=13*n+t;0!==r[e]&&(r[o]=r[e],o!==e&&(r[e]=0),o--)}}function a(r){for(var n=!1,o=Array(r.length).fill(!1),e=function(){if(r[a]<=0||r[a]>=6||a%13===0||o[a])return"continue";for(var e=r[a],l=new Set([a]),f=[a];f.length>0;){var i=f.shift();o[i]=!0;var u=function(n){n>=1&&n<r.length&&r[n]===e&&!l.has(n)&&!o[n]&&(l.add(n),f.push(n))};i%13!==1&&u(i-1),i%13!==12&&u(i+1),i<65&&u(i+13),i>13&&u(i-13)}var s,c=0,v=t(l);try{for(v.s();!(s=v.n()).done;){var h=s.value;r[h]===e&&c++}}catch(p){v.e(p)}finally{v.f()}c>=4&&(n=!0,l.forEach((function(n){r[n]=0,[n%13===1?null:n-1,n%13===12?null:n+1,n+13,n-13].forEach((function(n){null!==n&&n>=1&&n<r.length&&6===r[n]&&(r[n]=0)}))})))},a=1;a<r.length;a++)e();return n}function l(r){for(var n=Array(r.length).fill(!1),o=function(){if(r[e]<=0||r[e]>=6||e%13===0||n[e])return"continue";for(var o=r[e],a=new Set([e]),l=[e];l.length>0;){var f=l.shift();n[f]=!0;var i=function(t){t>=1&&t<r.length&&r[t]===o&&!a.has(t)&&!n[t]&&(a.add(t),l.push(t))};f%13!==1&&i(f-1),f%13!==12&&i(f+1),f<65&&i(f+13),f>13&&i(f-13)}var u,s=0,c=t(a);try{for(c.s();!(u=c.n()).done;){var v=u.value;r[v]===o&&s++}}catch(h){c.e(h)}finally{c.f()}return s>=4?{v:!0}:void 0},e=1;e<r.length;e++){var a=o();if("continue"!==a&&"object"===typeof a)return a.v}return!1}function f(r,n){for(var o=0;o<13;o++){var t=r[13*n+o];if(1<=t&&t<6)return void(r[13*n+o]=0)}console.log("popHighestColoredPuyoIndex erroe!")}self.addEventListener("message",(function(r){var n=r.data,i=n.plainField,u=n.nextPuyos,s=n.selectedChain,c=i,v=n.displayedSteps;console.log("in web worker: "),console.log(c);var h=performance.now(),p=function(r,n,i,u){e(r);var s=function r(n,u,s,c){if(s===c)return function(r){var n,o=0;do{e(r),(n=a(r))&&o++}while(n);return o}(o(n))===i?n:null;var v,h=u[s][0],p=u[s][1],y=function(){for(var r=[0,1,2,3,4,5],n=r.length-1;n>0;n--){var o=Math.floor(Math.random()*(n+1)),t=[r[o],r[n]];r[n]=t[0],r[o]=t[1]}return r}(),d=t(y);try{for(d.s();!(v=d.n()).done;){var g=v.value,m=13*g,b=[{pos1:m,pos2:m+1},{pos1:m+1,pos2:m}];0!==g&&b.push({pos1:m,pos2:m-13}),5!==g&&b.push({pos1:m,pos2:m+13});for(var w=0,A=b;w<A.length;w++){var S=A[w];if(0===n[S.pos1]&&0===n[S.pos2])if(n[S.pos1]=h,n[S.pos2]=p,e(n),s+1<c&&l(n))f(n,Math.floor(S.pos1/13)),f(n,Math.floor(S.pos2/13));else{var M=r(n,u,s+1,c);if(null!==M)return M;f(n,Math.floor(S.pos1/13)),f(n,Math.floor(S.pos2/13)),e(n)}}}}catch(I){d.e(I)}finally{d.f()}return null};return s(r,n,0,u)}(c,u,s,v);p?(console.log("\u89e3\u304c\u898b\u3064\u304b\u308a\u307e\u3057\u305f\uff01"),self.postMessage(p)):(console.log("\u89e3\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002"),self.postMessage(c));var y=(performance.now()-h)/1e3,d=Math.floor(y/60),g=y%60;console.log("\u7d4c\u904e\u6642\u9593: ".concat(d,"\u5206").concat(g,"\u79d2"))}))}();
//# sourceMappingURL=594.264b7a88.chunk.js.map